<alfresco-config>
	<!-- look at share_form_config.xml -->
	<!-- Global config section -->
	<config replace="true">
		<flags>
			<!-- Developer debugging setting to turn on DEBUG mode for client scripts 
				in the browser -->
			<client-debug>true</client-debug>

			<!-- LOGGING can always be toggled at runtime when in DEBUG mode (Ctrl, 
				Ctrl, Shift, Shift). This flag automatically activates logging on page load. -->
			<client-debug-autologging>false</client-debug-autologging>
		</flags>
	</config>

	<config evaluator="string-compare" condition="WebFramework">
		<web-framework>
			<!-- SpringSurf Autowire Runtime Settings -->
			<!-- Developers can set mode to 'development' to disable; SpringSurf caches, 
				FreeMarker template caching and Rhino JavaScript compilation. -->
			<autowire>
				<!-- Pick the mode: "production" or "development" -->
				<mode>production</mode>
			</autowire>

			<!-- Allows extension modules with <auto-deploy> set to true to be automatically 
				deployed -->
			<module-deployment>
				<mode>manual</mode>
				<enable-auto-deploy-modules>true</enable-auto-deploy-modules>
			</module-deployment>
		</web-framework>
	</config>

	<!-- Document Library config section -->
	<config evaluator="string-compare" condition="DocumentLibrary">
		<!-- Used by the "Manage Aspects" action For custom aspects, remember to 
			also add the relevant i18n string(s) cm_myaspect=My Aspect -->
		<aspects>
			<!-- Aspects that a user can see -->
			<visible>
<!-- 				<aspect name="cm:dublincore" /> -->
				<aspect name="cm:versionable" />
				<aspect name="cm:taggable" />
				<aspect name="exif:exif" />

				<aspect name="ucm:site_aspect" />
				<aspect name="ucm:indoor_artifact_aspect" />
				<aspect name="ucm:outdoor_artifact_aspect" />
				<aspect name="ucm:archeological_aspect" />
				<aspect name="ucm:museum_artifact_aspect" />
				<aspect name="ucm:artist_aspect" />
				<aspect name="ucm:project_aspect" />
			</visible>

			<!-- Aspects that a user can add. Same as "visible" if left empty -->
			<addable>
			</addable>

			<!-- Aspects that a user can remove. Same as "visible" if left empty -->
			<removeable>
			</removeable>
		</aspects>

		<!-- Used by the "Change Type" action Define valid subtypes using the following 
			example: <type name="cm:content"> <subtype name="cm:mysubtype" /> </type> 
			Remember to also add the relevant i18n string(s): cm_mysubtype=My SubType -->
		<types>
			<type name="cm:content">
				<subtype name="ucm:artifact" />
			</type>

			<type name="cm:folder">
				<subtype name="ucm:collection" />
			</type>

			<type name="ucm:collection">
				<subtype name="ucm:artist" />
			</type>
			
			<type name="ucm:artifact"></type>
<!-- 
			<type name="ucm:collection"></type>
			
			<type name="cm:folder"></type>
-->
			<type name="trx:transferTarget">
				<subtype name="trx:fileTransferTarget" />
			</type>
		</types>

		<create-content>
			<content id="artifact" mimetype="image/jpeg" label="menu.create-content.ucm_artifact" itemid="ucm:artifact" />

	        <content id="collection" label="menu.create-content.ucm_collection"  index="2" type="javascript">
	            <param name="function">onNewCollection</param>
	        </content>

	        <content id="artist" label="menu.create-content.ucm_artist"  index="3" type="javascript">
	            <param name="function">onNewArtist</param>
	        </content>
		</create-content>
	
        <create-content-by-template>false</create-content-by-template>

      <folder-types>
         <type name="ucm:collection" display-label="FCollection" display-label-id="fcollection" icon="folder" itemid="ucm:collection" />
      </folder-types>

		<metadata-templates>
			<template id="isArtifact">
				<evaluator>evaluator.doclib.metadata.isArtifact</evaluator>
				<line index="10" id="date" view="detailed">{date}{size}</line>
				<line index="20" id="social" view="detailed">{social}</line>
			</template>
		</metadata-templates>
	</config>

	<!-- ucm:collection type (creating nodes) -->
	<config evaluator="model-type" condition="ucm:collection">
		<forms>
			<form id="doclib-common">
				<field-visibility>
					<show id="cm:name"/>
					<show id="ucm:collection_id"/>
					<show id="ucm:curator"/>
					<show id="cm:description" />
				</field-visibility>
				<create-form template="../documentlibrary/forms/doclib-common.ftl" />
	            <appearance>
	                <field id="cm:name" label-id="Collection Name" />
	                <field id="ucm:collection_id" label-id="Collection ID" />
					<field id="ucm:curator"/>
	                <field id="cm:description">
	                  <control>
	                     <control-param name="activateLinks">true</control-param>
	                  </control>
	               </field>
	            </appearance>
			</form>
		</forms>
	</config>

	<!-- ucm:collection type (existing nodes) -->
	<config evaluator="node-type" condition="ucm:collection">
		<forms>
		   <form>
				<field-visibility>
					<show id="cm:name"/>
					<show id="ucm:collection_id"/>
					<show id="ucm:curator"/>
 	                <show id="cm:description"/>
				</field-visibility>
	            <appearance>                    
	                <field id="cm:name" label-id="Collection Name" />
	                <field id="ucm:collection_id" label-id="Collection ID" />
					<field id="ucm:curator"/>
 	                <field id="cm:description"/>
	            </appearance>
            </form>
            <form id="doclib-simple-metadata">
				<field-visibility>
					<show id="cm:name"/>
					<show id="ucm:collection_id"/>
					<show id="ucm:curator"/>
 	                <show id="cm:description"/>
				</field-visibility>
	            <appearance>                    
	                <field id="cm:name" label-id="Collection Name" />
	                <field id="ucm:collection_id" label-id="Collection ID" />
					<field id="ucm:curator"/>
 	                <field id="cm:description"/>
	            </appearance>
			</form>

			<!-- Document Library Inline Edit form -->
			<form id="doclib-inline-edit">
				<field-visibility>
					<show id="cm:name"/>
					<show id="ucm:collection_id"/>
					<show id="ucm:curator"/>
 	                <show id="cm:description"/>
				</field-visibility>
	            <appearance>                    
	                <field id="cm:name" label-id="Collection Name" />
	                <field id="ucm:collection_id" label-id="Collection ID" />
					<field id="ucm:curator"/>
 	                <field id="cm:description"/>
	            </appearance>
			</form>
		</forms>
	</config>

	<!-- ucm:artist type (creating nodes) -->
	<config evaluator="model-type" condition="ucm:artist">
		<forms>
			<!-- Default form configuration for the ucm:artifact type -->
			<form>
				<create-form template="/com/alfresco/museum/ucm/form/ucm-artifact-props-form.ftl"/>
				<field-visibility>
					<show id="cm:content" force="true"/>
					<show id="ucm:artist_nickname" />
					<show id="ucm:artist_name" />
					<show id="cm:name" />
					<show id="ucm:artist_dob" />
					<show id="ucm:artist_birth_place" />
					<show id="ucm:artist_dod" />
					<show id="ucm:artist_death_place" />
					<show id="ucm:artist_study_workshop" />
					<show id="ucm:artist_live_city" />
					<show id="ucm:artist_period" />
					<show id="ucm:artist_comments" />
				</field-visibility>
				<appearance>
 					<field id="cm:content">
		               <control template="/com/alfresco/museum/ucm/form/controls/ucm-file-upload.ftl" />
		            </field>
					<field id="ucm:artist_nickname" />
					<field id="ucm:artist_name" />
	                <field id="cm:name" />
					<field id="ucm:artist_dob" />
					<field id="ucm:artist_birth_place" />
					<field id="ucm:artist_dod" />
					<field id="ucm:artist_death_place" />
					<field id="ucm:artist_study_workshop" />
					<field id="ucm:artist_live_city" />
					<field id="ucm:artist_period" />
					<field id="ucm:artist_comments" />
				</appearance>
			</form>
		</forms>
	</config>
	
	<!-- ucm:artist type (existing nodes) -->
	<config evaluator="node-type" condition="ucm:artist">
		<forms>
			<!-- Default form configuration for the ucm:artifact type -->
			<form>
				<edit-form template="/com/alfresco/museum/ucm/form/ucm-artifact-props-form.ftl"/>
				<field-visibility>
					<show id="cm:content" force="true"/>
					<show id="ucm:artist_nickname" />
					<show id="ucm:artist_name" />
					<show id="cm:name" />
					<show id="ucm:artist_dob" />
					<show id="ucm:artist_birth_place" />
					<show id="ucm:artist_dod" />
					<show id="ucm:artist_death_place" />
					<show id="ucm:artist_study_workshop" />
					<show id="ucm:artist_live_city" />
					<show id="ucm:artist_period" />
					<show id="ucm:artist_comments" />
				</field-visibility>
				<appearance>
 					<field id="cm:content">
		               <control template="/com/alfresco/museum/ucm/form/controls/ucm-file-upload.ftl" />
		            </field>
					<field id="ucm:artist_nickname" />
					<field id="ucm:artist_name" />
	                <field id="cm:name" />
					<field id="ucm:artist_dob" />
					<field id="ucm:artist_birth_place" />
					<field id="ucm:artist_dod" />
					<field id="ucm:artist_death_place" />
					<field id="ucm:artist_study_workshop" />
					<field id="ucm:artist_live_city" />
					<field id="ucm:artist_period" />
					<field id="ucm:artist_comments" />
				</appearance>
			</form>
			<!-- Document Library pop-up Edit Metadata form -->
			<form id="doclib-simple-metadata">
				<edit-form template="/com/alfresco/museum/ucm/form/ucm-artifact-props-form.ftl"/>
				<field-visibility>
					<show id="cm:content" force="true"/>
					<show id="ucm:artist_nickname" />
					<show id="ucm:artist_name" />
					<show id="cm:name" />
					<show id="ucm:artist_dob" />
					<show id="ucm:artist_birth_place" />
					<show id="ucm:artist_dod" />
					<show id="ucm:artist_death_place" />
					<show id="ucm:artist_study_workshop" />
					<show id="ucm:artist_live_city" />
					<show id="ucm:artist_period" />
					<show id="ucm:artist_comments" />
				</field-visibility>
				<appearance>
 					<field id="cm:content">
		               <control template="/com/alfresco/museum/ucm/form/controls/ucm-file-upload.ftl" />
		            </field>
					<field id="ucm:artist_nickname" />
					<field id="ucm:artist_name" />
	                <field id="cm:name" />
					<field id="ucm:artist_dob" />
					<field id="ucm:artist_birth_place" />
					<field id="ucm:artist_dod" />
					<field id="ucm:artist_death_place" />
					<field id="ucm:artist_study_workshop" />
					<field id="ucm:artist_live_city" />
					<field id="ucm:artist_period" />
					<field id="ucm:artist_comments" />
				</appearance>
			</form>
		</forms>
	</config>

	<!-- ucm:artifact type (creating nodes) -->
	<config evaluator="model-type" condition="ucm:artifact">
		<forms>
			<!-- Default form configuration for the ucm:artifact type -->
			<form>
				<create-form template="/com/alfresco/museum/ucm/form/ucm-artifact-props-form.ftl"/>
				<field-visibility>
					<show id="cm:name" />
					<show id="cm:title" />
					<show id="cm:content" force="true"/>
					
					<show id="ucm:artifact_name"/>
					<show id="ucm:artist_name" />
					<show id="ucm:museum_number" />
					<show id="ucm:artifact_date" />
					<show id="ucm:artifact_medium" />
					<show id="ucm:artifact_technique" />
					<show id="ucm:artifact_dimension" />
					<show id="ucm:artifact_status" />
					<show id="ucm:artifact_location" />
					<show id="ucm:artifact_collection" />
					<show id="ucm:artifact_acquisition_type" />
<!-- 					<show id="ucm:artifact_donor" /> -->
					<show id="ucm:artifact_type" />
					<show id="ucm:artifact_on_display" />
					<show id="ucm:artifact_comments" />
					<!--show id="ucm:artifact_referenced_objects" /-->
					<show id="ucm:artist_nickname" />
					<show id="ucm:artist_dob" />
					<show id="ucm:artist_birth_place" />
					<show id="ucm:artist_dod" />
					<show id="ucm:artist_death_place" />
					<show id="ucm:artist_study_workshop" />
					<show id="ucm:artist_live_city" />
					<show id="ucm:artist_period" />
					<show id="ucm:artist_comments" />
					<show id="ucm:museum_artifact_gallery_location" />
					
					<!-- cm:geographic aspect -->
	                <show id="cm:latitude" />
	                <show id="cm:longitude" />
					<!-- tags and categories -->
		            <show id="cm:taggable" for-mode="edit" force="true" />
<!-- 		            <show id="cm:categories" /> -->
					
					<!-- <show id="ucm:artifact_referenced_objects" /> -->

					<!-- cm:dublincore aspect -->
					<!--<show id="cm:publisher" />
					<show id="cm:contributor" />
					<show id="cm:type" />
					<show id="cm:identifier" />
					<show id="cm:dcsource" />
					<show id="cm:coverage" />
					<show id="cm:rights" />
					<show id="cm:subject" /> -->
				</field-visibility>
				<appearance>
					<set id="artifactMain" appearance="fieldset" label="Main artifact properties" />
					
					<set id="artifactRest" appearance="accordion-wrapper" label="Additional properties" />
						<set id="artifactAdditional" parent="artifactRest" appearance="accordion-element" label="Artifact additional properties" />
						<set id="artifactArtist" parent="artifactRest" appearance="accordion-element" label="Artist" />
						<set id="artifactMuseum" parent="artifactRest" appearance="accordion-element" label="Museum" />
					<!-- TODO: rest of aspects. And properties? -->
					<field id="cm:name">
						<control>
							<control-param name="maxLength">255</control-param>
						</control>
					</field>
 					<field id="cm:title" />
 					<field id="cm:content">
		               <control template="/com/alfresco/museum/ucm/form/controls/ucm-file-upload.ftl" />
		            </field>
					<field id="ucm:artifact_name" set="artifactMain" />
					<field id="ucm:artist_name" set="artifactMain" />
					<field id="ucm:museum_number" set="artifactMain" />
					
					<field id="ucm:artifact_date" set="artifactMain" />
					<field id="ucm:artifact_medium" set="artifactMain" />
					<field id="ucm:artifact_technique" set="artifactMain" />
					<field id="ucm:artifact_dimension" set="artifactMain" />
					<field id="ucm:artifact_status" set="artifactMain" />
					
					<field id="ucm:artifact_location" set="artifactAdditional" />
					<field id="ucm:artifact_collection" set="artifactAdditional" />
					<field id="ucm:artifact_acquisition_type" set="artifactAdditional" />
<!-- 					<field id="ucm:artifact_donor" set="artifactAdditional" /> -->
					<field id="ucm:artifact_type" set="artifactAdditional" />
					<field id="ucm:artifact_on_display" set="artifactAdditional" />
					<field id="ucm:artifact_comments" set="artifactAdditional" />
					<!--field id="ucm:artifact_referenced_objects" set="artifactAdditional" /-->
					
					<field id="ucm:artist_nickname" set="artifactArtist" />
					<field id="ucm:artist_dob" set="artifactArtist" />
					<field id="ucm:artist_birth_place" set="artifactArtist" />
					<field id="ucm:artist_dod" set="artifactArtist" />
					<field id="ucm:artist_death_place" set="artifactArtist" />
					<field id="ucm:artist_study_workshop" set="artifactArtist" />
					<field id="ucm:artist_live_city" set="artifactArtist" />
					<field id="ucm:artist_period" set="artifactArtist" />
					<field id="ucm:artist_comments" set="artifactArtist" />
					
					<field id="ucm:museum_artifact_gallery_location" set="artifactMuseum" />
				</appearance>
			</form>

			<!-- TODO -->
			<!-- Document Library pop-up Edit Metadata form -->
			<form id="doclib-simple-metadata">
				<field-visibility>
					<show id="cm:name" />
					<show id="ucm:artifact_name" />
					<show id="ucm:artist_name" />
					<show id="ucm:museum_number" />
				</field-visibility>
				<edit-form template="../documentlibrary/forms/doclib-simple-metadata.ftl" />
				<appearance>
					<field id="cm:name" />
					<field id="ucm:artifact_name" />
					<field id="ucm:artist_name" />
					<field id="ucm:museum_number" />
				</appearance>
			</form>

			<!-- TODO -->
			<!-- Document Library Inline Edit form -->
			<form id="doclib-inline-edit">
				<field-visibility>
					<show id="cm:name" />
					<show id="ucm:artifact_name" />
					<show id="ucm:artist_name" />
					<show id="ucm:museum_number" />
				</field-visibility>
				<appearance>
					<field id="cm:name" />
					<field id="ucm:artifact_name" />
					<field id="ucm:artist_name" />
					<field id="ucm:museum_number" />
				</appearance>
			</form>
		</forms>
	</config>

	<!-- ucm:artifact type (existing nodes) -->
	<config evaluator="node-type" condition="ucm:artifact">
		<forms>
			<!-- Default form configuration for the ucm:artifact type -->
			<form>
				<edit-form template="/com/alfresco/museum/ucm/form/ucm-artifact-props-form.ftl"/>
				<field-visibility>
					<show id="cm:name" />
<!-- 					<show id="cm:title" /> -->
					<show id="cm:content" force="true"/>
					
					<show id="ucm:artifact_name"/>
					<show id="ucm:artist_name" />
					<show id="ucm:museum_number" />
					<show id="ucm:artifact_date" />
					<show id="ucm:artifact_medium" />
					<show id="ucm:artifact_technique" />
					<show id="ucm:artifact_dimension" />
					<show id="ucm:artifact_status" />
					<!-- show id="ucm:artifact_contains" /-->
					
					<show id="ucm:artifact_location" />
					<show id="ucm:artifact_collection" />
					<show id="ucm:artifact_acquisition_type" />
					<show id="ucm:artifact_donor" />
					<show id="ucm:artifact_type" />
					<show id="ucm:artifact_on_display" />
					<show id="ucm:artifact_comments" />
					<!--show id="ucm:artifact_referenced_objects" /-->
					<show id="ucm:artist_nickname" />
					<show id="ucm:artist_dob" />
					<show id="ucm:artist_birth_place" />
					<show id="ucm:artist_dod" />
					<show id="ucm:artist_death_place" />
					<show id="ucm:artist_study_workshop" />
					<show id="ucm:artist_live_city" />
					<show id="ucm:artist_period" />
					<show id="ucm:artist_comments" />
					<show id="ucm:museum_artifact_gallery_location" />
	                
					<!-- cm:geographic aspect -->
	                <show id="cm:latitude" />
	                <show id="cm:longitude" />
					<!-- tags and categories -->
		            <show id="cm:taggable" for-mode="edit" force="true" />
<!-- 		            <show id="cm:categories" /> -->
					
					
					<!-- <show id="ucm:artifact_referenced_objects" /> -->

					<!-- cm:dublincore aspect -->
					<!--<show id="cm:publisher" />
					<show id="cm:contributor" />
					<show id="cm:type" />
					<show id="cm:identifier" />
					<show id="cm:dcsource" />
					<show id="cm:coverage" />
					<show id="cm:rights" />
					<show id="cm:subject" /> -->
				</field-visibility>
				<appearance>
					<set id="artifactMain" appearance="fieldset" label="Artifact properties" />
					<set id="artifactRest" appearance="accordion-wrapper" label="Additional properties" />
						<set id="artifactAdditional" parent="artifactRest" appearance="accordion-element" label="About Artifact" />
						<set id="artifactArtist" parent="artifactRest" appearance="accordion-element" label="Artist" />
						<set id="artifactMuseum" parent="artifactRest" appearance="accordion-element" label="Museum" />
					<!-- TODO: rest of aspects. And properties? -->
					<field id="cm:name">
						<control>
							<control-param name="maxLength">255</control-param>
						</control>
					</field>
					<field id="cm:title" />
					
					<field id="cm:taggable">
						<control>
                     		<control-param name="compactMode">true</control-param>
                     		<control-param name="params">aspect=cm:taggable</control-param>
                     		<control-param name="createNewItemUri">/api/tag/workspace/SpacesStore</control-param>
                     		<control-param name="createNewItemIcon">tag</control-param>
                  		</control>
               		</field>
               			
<!-- 					
					<field id="cm:content" label-id="">
						<control>
							<control-param name="editorAppearance">explorer</control-param>
						</control>
					</field>
-->
					
					<field id="ucm:artifact_name" set="artifactAdditional" />
					<field id="ucm:artist_name" set="artifactAdditional" />
					<field id="ucm:museum_number" set="artifactAdditional" />
					
					<field id="ucm:artifact_date" set="artifactAdditional" />
					<field id="ucm:artifact_medium" set="artifactAdditional" />
					<field id="ucm:artifact_technique" set="artifactAdditional" />
					<field id="ucm:artifact_dimension" set="artifactAdditional" />
					<field id="ucm:artifact_comments" set="artifactAdditional">
<!--                  		<control template="/org/alfresco/components/form/controls/textfield.ftl" /> -->
                  		<control>                  		
		                  <control-param name="rows">4</control-param>
        		          <control-param name="columns">60</control-param>
	                     <control-param name="activateLinks">true</control-param>
						</control>
                    </field>

					<field id="ucm:artifact_status" set="artifactAdditional" />
					<!--
					field id="ucm:artifact_contains" set="artifactMain">
			        	<control template="/org/alfresco/components/form/controls/association.ftl">
							<control-param name="">items</control-param>
							<control-param name="displayMode">items</control-param>
							<control-param name="showTargetLink">true</control-param>
							<control-param name="compactMode">true</control-param>
						</control>
					</field
					-->
					
					<field id="ucm:artifact_location" set="artifactAdditional" />
					<field id="ucm:artifact_collection" set="artifactAdditional" />
					<field id="ucm:artifact_acquisition_type" set="artifactAdditional" />
<!-- 					<field id="ucm:artifact_donor" set="artifactAdditional" /> -->
					<field id="ucm:artifact_type" set="artifactAdditional" />
					<field id="ucm:artifact_on_display" set="artifactAdditional" />
<!--					<field id="ucm:artifact_comments" set="artifactAdditional" /> -->

					<!--field id="ucm:artifact_referenced_objects" set="artifactAdditional" /-->
					
					<field id="ucm:artist_nickname" set="artifactArtist" />
					<field id="ucm:artist_dob" set="artifactArtist" />
					<field id="ucm:artist_birth_place" set="artifactArtist" />
					<field id="ucm:artist_dod" set="artifactArtist" />
					<field id="ucm:artist_death_place" set="artifactArtist" />
					<field id="ucm:artist_study_workshop" set="artifactArtist" />
					<field id="ucm:artist_live_city" set="artifactArtist" />
					<field id="ucm:artist_period" set="artifactArtist" />
					<field id="ucm:artist_comments" set="artifactArtist" />
					
					<field id="ucm:museum_artifact_gallery_location" set="artifactMuseum" />
					<field id="cm:latitude" set="artifactMuseum"/>
	                <field id="cm:longitude" set="artifactMuseum"/>
				</appearance>
			</form>

			<!-- TODO -->
			<!-- Document Library pop-up Edit Metadata form -->
			<form id="doclib-simple-metadata">
				<field-visibility>
					<show id="cm:name" />
					<show id="ucm:artifact_name" />
					<show id="ucm:artist_name" />
					<show id="ucm:museum_number" />
				</field-visibility>
				<edit-form template="../documentlibrary/forms/doclib-simple-metadata.ftl" />
				<appearance>
					<field id="cm:name" />
					<field id="ucm:artifact_name" />
					<field id="ucm:artist_name" />
					<field id="ucm:museum_number" />
				</appearance>
			</form>

			<!-- TODO -->
			<!-- Document Library Inline Edit form -->
			<form id="doclib-inline-edit">
				<field-visibility>
					<show id="cm:name" />
					<show id="ucm:artifact_name" />
					<show id="ucm:artist_name" />
					<show id="ucm:museum_number" />
				</field-visibility>
				<appearance>
					<field id="cm:name" />
					<field id="ucm:artifact_name" />
					<field id="ucm:artist_name" />
					<field id="ucm:museum_number" />
				</appearance>
			</form>
		</forms>
	</config>

	<!-- ucm:about_artist_artifact type (existing nodes) -->
	<config evaluator="node-type" condition="ucm:about_artist_artifact">
		<forms>
			<!-- Default form configuration for the ucm:about_artist_artifact type -->
			<form>
				<edit-form template="/com/alfresco/museum/ucm/form/ucm-artist-props-form.ftl"/>
				<field-visibility>
					<show id="cm:name" />
					<show id="cm:title" />
					
<!--					<show id="cm:content" />  -->
<!--					<show id="ucm:artifact_name"/> -->
					<show id="ucm:artist_name" />

					<!-- show id="ucm:artifact_contains" /-->
					<show id="ucm:artifact_comments" />
					<!--show id="ucm:artifact_referenced_objects" /-->
					
					<show id="ucm:artist_nickname" />
					<show id="ucm:artist_dob" />
					<show id="ucm:artist_birth_place" />
					<show id="ucm:artist_dod" />
					<show id="ucm:artist_death_place" />
					<show id="ucm:artist_study_workshop" />
					<show id="ucm:artist_live_city" />
					<show id="ucm:artist_period" />
					<show id="ucm:artist_comments" />
					<show id="ucm:museum_artifact_gallery_location" />
					
					<!-- cm:geographic aspect -->
<!--
	                <show id="cm:latitude" />
	                <show id="cm:longitude" />
-->	
					<!-- <show id="ucm:artifact_referenced_objects" /> -->
				</field-visibility>
				<appearance>
					<set id="artistMain" appearance="fieldset" label="Artist" />

					<!-- TODO: rest of aspects. And properties? -->
					<field id="cm:name">
						<control>
							<control-param name="maxLength">255</control-param>
						</control>
					</field>
<!--										
					<field id="cm:title" />
					<field id="cm:content">
		               <control template="/com/alfresco/museum/ucm/form/controls/ucm-file-upload.ftl" />
		            </field>
-->		            
					<field id="ucm:artist_name" set="artistMain" label="Birth Name"/>
<!--		
					<field id="ucm:artifact_status" set="artifactMain" />
-->
					<!--field id="ucm:artifact_contains" set="artifactMain">
			        	<control template="/org/alfresco/components/form/controls/association.ftl">
							<control-param name="">items</control-param>
							<control-param name="displayMode">items</control-param>
							<control-param name="showTargetLink">true</control-param>
							<control-param name="compactMode">true</control-param>
						</control>
					</field-->

					<!--field id="ucm:artifact_referenced_objects" set="artifactAdditional" /-->
					
					<field id="ucm:artist_nickname" set="artistMain" />
					<field id="ucm:artist_dob" set="artistMain" />
					<field id="ucm:artist_birth_place" set="artistMain" />
					<field id="ucm:artist_dod" set="artistMain" />
					<field id="ucm:artist_death_place" set="artistMain" />
					<field id="ucm:artist_study_workshop" set="artistMain" />
					<field id="ucm:artist_live_city" set="artistMain" />
					<field id="ucm:artist_period" set="artistMain" />
					<field id="ucm:museum_artifact_gallery_location" set="artistMain" />
					<field id="cm:title" set="artistMain" />
					<field id="ucm:artifact_comments" set="artistMain" />
<!--					
					<field id="ucm:museum_artifact_gallery_location" set="artifactMuseum" />
					<field id="cm:latitude" set="artifactMuseum"/>
	                <field id="cm:longitude" set="artifactMuseum"/>
-->	                
				</appearance>
			</form>
			
			<form id="doclib-simple-metadata">
				<edit-form template="/com/alfresco/museum/ucm/form/ucm-artist-props-form.ftl"/>
				<field-visibility>
					<show id="cm:name" />
					<show id="cm:title" />
					
<!--					<show id="cm:content" />  -->
<!--					<show id="ucm:artifact_name"/> -->
					<show id="ucm:artist_name" />

					<!-- show id="ucm:artifact_contains" /-->
					<show id="ucm:artifact_comments" />
					<!--show id="ucm:artifact_referenced_objects" /-->
					
					<show id="ucm:artist_nickname" />
					<show id="ucm:artist_dob" />
					<show id="ucm:artist_birth_place" />
					<show id="ucm:artist_dod" />
					<show id="ucm:artist_death_place" />
					<show id="ucm:artist_study_workshop" />
					<show id="ucm:artist_live_city" />
					<show id="ucm:artist_period" />
					<show id="ucm:artist_comments" />
					<show id="ucm:museum_artifact_gallery_location" />
					
					<!-- cm:geographic aspect -->
<!--
	                <show id="cm:latitude" />
	                <show id="cm:longitude" />
-->	
					<!-- <show id="ucm:artifact_referenced_objects" /> -->
				</field-visibility>
				<appearance>
					<set id="artistMain" appearance="fieldset" label="Artist" />

					<!-- TODO: rest of aspects. And properties? -->
					<field id="cm:name">
						<control>
							<control-param name="maxLength">255</control-param>
						</control>
					</field>
<!--										
					<field id="cm:title" />
					<field id="cm:content">
		               <control template="/com/alfresco/museum/ucm/form/controls/ucm-file-upload.ftl" />
		            </field>
-->		            
					<field id="ucm:artist_name" set="artistMain" label="Birth Name"/>
<!--		
					<field id="ucm:artifact_status" set="artifactMain" />
-->
					<!--field id="ucm:artifact_contains" set="artifactMain">
			        	<control template="/org/alfresco/components/form/controls/association.ftl">
							<control-param name="">items</control-param>
							<control-param name="displayMode">items</control-param>
							<control-param name="showTargetLink">true</control-param>
							<control-param name="compactMode">true</control-param>
						</control>
					</field-->

					<!--field id="ucm:artifact_referenced_objects" set="artifactAdditional" /-->
					
					<field id="ucm:artist_nickname" set="artistMain" />
					<field id="ucm:artist_dob" set="artistMain" />
					<field id="ucm:artist_birth_place" set="artistMain" />
					<field id="ucm:artist_dod" set="artistMain" />
					<field id="ucm:artist_death_place" set="artistMain" />
					<field id="ucm:artist_study_workshop" set="artistMain" />
					<field id="ucm:artist_live_city" set="artistMain" />
					<field id="ucm:artist_period" set="artistMain" />
					<field id="ucm:museum_artifact_gallery_location" set="artistMain" />
					<field id="cm:title" set="artistMain" />
					<field id="ucm:artifact_comments" set="artistMain" />
<!--					
					<field id="ucm:museum_artifact_gallery_location" set="artifactMuseum" />
					<field id="cm:latitude" set="artifactMuseum"/>
	                <field id="cm:longitude" set="artifactMuseum"/>
-->	                
				</appearance>
			</form>
		</forms>
	</config>

	<!-- ucm:attached_file type (creating nodes) -->
	<config evaluator="model-type" condition="ucm:attached_file">
		<forms>
			<form id="doclib-common">
				<field-visibility>
					<show id="cm:name"/>
					<show id="ucm:attached_file_type"/>
					<show id="ucm:attached_file_language" />
					<show id="ucm:attached_file_sequence" />
				</field-visibility>
				<create-form template="../documentlibrary/forms/doclib-common.ftl" />
	            <appearance>
	                <field id="cm:name" />
					<field id="ucm:attached_file_type" label-id="Attachment Media Type"/>
	                <field id="ucm:attached_file_language" />
	                <field id="ucm:attached_file_sequence" />
	            </appearance>
			</form>
		</forms>
	</config>

	<!-- ucm:attached_file type (existing nodes) -->
	<config evaluator="node-type" condition="ucm:attached_file">
		<forms>
		   <form>
				<field-visibility>
					<show id="cm:name"/>
					<show id="ucm:attached_file_type"/>
					<show id="ucm:attached_file_language" />
					<show id="ucm:attached_file_sequence" />
				</field-visibility>
	            <appearance>
	                <field id="cm:name" />
					<field id="ucm:attached_file_type" label-id="Attachment Media Type"/>
	                <field id="ucm:attached_file_language" />
	                <field id="ucm:attached_file_sequence" />
	            </appearance>
            </form>
            <form id="doclib-simple-metadata">
				<field-visibility>
					<show id="cm:name"/>
					<show id="ucm:attached_file_type"/>
					<show id="ucm:attached_file_language" />
					<show id="ucm:attached_file_sequence" />
				</field-visibility>
	            <appearance>
	                <field id="cm:name" />
					<field id="ucm:attached_file_type" label-id="Attachment Media Type"/>
	                <field id="ucm:attached_file_language" />
	                <field id="ucm:attached_file_sequence" />
	            </appearance>
			</form>

			<!-- Document Library Inline Edit form -->
			<form id="doclib-inline-edit">
				<field-visibility>
					<show id="cm:name"/>
					<show id="ucm:attached_file_type"/>
					<show id="ucm:attached_file_language" />
					<show id="ucm:attached_file_sequence" />
				</field-visibility>
	            <appearance>
	                <field id="cm:name" />
					<field id="ucm:attached_file_type" label-id="Attachment Media Type"/>
	                <field id="ucm:attached_file_language" />
	                <field id="ucm:attached_file_sequence" />
	            </appearance>
			</form>
		</forms>
	</config>

	<config evaluator="string-compare" condition="DocumentDetails"
		replace="true">
		<document-details>
			<!-- display web previewer on document details page -->
			<display-web-preview>true</display-web-preview>
		</document-details>
		
		<!-- Sorting Options The 'sort' config element contains the name of the 
			content model field to sort against and can be of the form: - short QName 
			string e.g. "cm:name" - any other valid sortable fts-alfresco special field 
			e.g. "TYPE" The field can be optionally followed by |true or |false to indicate 
			sort direction, where true = ascending, false = descending -->
		<sorting>
			<sort label="label.name">cm:name|true</sort>
			<sort label="label.popularity">cm:likesRatingSchemeCount|false</sort>
			<sort label="label.title">cm:title</sort>
			<sort label="label.description">cm:description</sort>
			<sort label="label.created">cm:created</sort>
			<sort label="label.creator">cm:creator</sort>
			<sort label="label.modified">cm:modified</sort>
			<sort label="label.modifier">cm:modifier</sort>
			<sort label="label.size">cm:content.size</sort>
			<sort label="label.mimetype">cm:content.mimetype</sort>
			<sort label="label.type">TYPE</sort>
		</sorting>
	</config>
   
   <!-- Document Library config section -->
   <config evaluator="string-compare" condition="DocumentLibraryViews" replace="true">
         <!-- The view renderers that will be available as options in DocumentLibrary, My Files, Shared Files and 
              Repository pages. This list can be added to or removed to control the views displayed. Use the a module
              that provides evaluated configuration to have the options change based on criteria (e.g. site name, 
              site preset, user group, etc)
              
              Remember to include all dependencies, even those duplicated by another view - Surf will ensure only 
              one version of each is loaded - but if a view is removed that depends on a dependency defined in another
              view then it will cause an error. 
           -->
      <view-renderers>
<!--          <view-renderer id="simple" iconClass="simple" label="button.view.simple" index="10" widget="Alfresco.DocumentListSimpleViewRenderer">
            <dependencies>
               <js src="components/documentlibrary/documentlist-view-detailed.js" />
               <js src="components/documentlibrary/documentlist-view-simple.js" />
            </dependencies>
         </view-renderer> -->
         <view-renderer id="detailed" iconClass="detailed" label="button.view.detailed" index="20" widget="Alfresco.DocumentListViewRenderer">
            <dependencies>
               <js src="components/documentlibrary/ucm-documentlist-view-detailed.js" />
            </dependencies>
         </view-renderer>
         <view-renderer id="gallery" iconClass="gallery" label="button.view.gallery" index="30" widget="Alfresco.DocumentListGalleryViewRenderer">
            <dependencies>
               <js src="components/documentlibrary/ucm-documentlist-view-detailed.js" />
               <js src="components/documentlibrary/ucm-documentlist-view-gallery.js" />
               <js src="yui/slider/slider.js" />
            </dependencies>
         </view-renderer>
      </view-renderers>
   </config>

	<config evaluator="string-compare" condition="DocLibCustom">
		<dependencies>
			<js src="/custom/ucm-documentlibrary.js" />
		</dependencies> 
	</config>
   
   
       <!-- Commented because normal users should not see this aspect
         It should only be used through the admin interface
        <config evaluator="string-compare" condition="DocumentLibrary">
            <aspects>
                <visible>
                    <aspect name="up:UploadFolder"/>
                </visible>
            </aspects>
        </config>
    -->

    <config evaluator="aspect" condition="up:UploadFolder">
        <forms>
            <form>
                <field-visibility>
                    <show id="up:allowedTypes"/>
                </field-visibility>
            </form>
            <form id="upload-folder">
                <field-visibility>
                    <show id="up:allowedTypes"/>
                </field-visibility>
                <edit-form
                        template="../documentlibrary/forms/doclib-simple-metadata.ftl"/>
                <appearance>
                    <field id="up:allowedTypes">
                        <control
                                template="/uploader-plus/controls/selecttypes.ftl">
                            <control-param name="styleClass">
                                supported-types-select
                            </control-param>
                        </control>
                    </field>
                </appearance>
            </form>
        </forms>
    </config>
    
   <!-- Document Library Custom Code config section -->
   <config evaluator="string-compare" condition="DocLibCustom">
      <!--
         Custom Code dependencies.

         Note: files specified in the "src" attribute resolve relative to the /share/res/ servlet context.
         <dependencies>
            <css src="my-custom-action.css" />
            <js src="my-custom-action.js" />
         </dependencies>
      -->
      <dependencies />
   </config>

   <!-- Document Library Actions config section -->
   <config evaluator="string-compare" condition="DocLibActions">

      <!--
         Action definitions
      -->
      <actions>
         <!-- Download document -->
         <action id="document-download" type="link" label="actions.document.download">
            <param name="href">{downloadUrl}</param>
            <param name="target">_blank</param>
            <evaluator>evaluator.doclib.action.downloadBrowser</evaluator>
            <evaluator>evaluator.doclib.action.hasContent</evaluator>
         </action>

         <!-- View document in browser -->
         <action id="document-view-content" type="link" label="actions.document.view">
            <param name="href">{viewUrl}</param>
            <evaluator>evaluator.doclib.action.hasContent</evaluator>
         </action>

         <!-- View document details -->
         <action id="document-view-details" type="pagelink" label="actions.document.view-details">
            <param name="page">document-details?nodeRef={node.nodeRef}</param>
         </action>

         <!-- View folder details -->
         <action id="folder-view-details" type="pagelink" label="actions.folder.view-details">
            <param name="page">folder-details?nodeRef={node.nodeRef}</param>
         </action>

         <!-- Edit properties pop-up -->
         <action id="document-edit-properties" type="javascript" label="actions.document.edit-metadata">
            <param name="function">onActionDetails</param>
            <permissions>
               <permission allow="true">Write</permission>
            </permissions>
            <evaluator negate="true">evaluator.doclib.action.checkedOutAspect</evaluator>
         </action>

         <!-- Edit properties page -->
         <action id="document-edit-metadata" type="pagelink" label="actions.document.edit-metadata">
            <param name="page">edit-metadata?nodeRef={node.nodeRef}</param>
            <permissions>
               <permission allow="true">Write</permission>
            </permissions>
            <evaluator negate="true">evaluator.doclib.action.checkedOutAspect</evaluator>
         </action>

         <!-- Approve simple workflow -->
         <action id="document-approve" type="javascript" label="{jsNode.properties.app_approveStep}">
            <param name="function">onActionSimpleRepoAction</param>
            <!-- Additional parameters for onRepoAction function  -->
            <param name="action">accept-simpleworkflow</param>
            <param name="successMessage">message.simple-workflow.approved</param>
            <param name="failureMessage">message.simple-workflow.failure</param>
            <!-- aspect check, property != null check, action name = property value -->
            <evaluator>evaluator.doclib.action.simpleApprove</evaluator>
         </action>

         <!-- Reject simple workflow -->
         <action id="document-reject" type="javascript" label="{jsNode.properties.app_rejectStep}">
            <param name="function">onActionSimpleRepoAction</param>
            <!-- Additional parameters for onRepoAction function  -->
            <param name="action">reject-simpleworkflow</param>
            <param name="successMessage">message.simple-workflow.rejected</param>
            <param name="failureMessage">message.simple-workflow.failure</param>
            <!-- aspect check, property != null check, action name = property value -->
            <evaluator>evaluator.doclib.action.simpleReject</evaluator>
         </action>

         <!-- Increment Counter -->
         <action id="document-increment-counter" type="javascript" label="actions.document.increment-counter">
            <param name="function">onActionSimpleRepoAction</param>
            <!-- Additional parameters for onRepoAction function  -->
            <param name="action">counter</param>
            <param name="successMessage">message.increment-counter.success</param>
            <param name="failureMessage">message.increment-counter.failure</param>
         </action>

         <!-- Extract Metadata -->
         <action id="document-extract-metadata" type="javascript" label="actions.document.extract-metadata">
            <param name="function">onActionSimpleRepoAction</param>
            <!-- Additional parameters for onRepoAction function  -->
            <param name="action">extract-metadata</param>
            <param name="successMessage">message.extract-metadata.success</param>
            <param name="failureMessage">message.extract-metadata.failure</param>
         </action>

         <!-- Transform -->
         <action id="document-transform" type="javascript" label="actions.document.transform">
            <param name="function">onActionFormDialog</param>
            <!-- Additional parameters for onFormDialog function  -->
            <param name="itemKind">action</param>
            <param name="itemId">transform</param>
            <param name="mode">create</param>
            <param name="destination">{node.nodeRef}</param>
            <param name="successMessage">message.transform.success</param>
            <param name="failureMessage">message.transform.failure</param>
         </action>

         <!-- Transform Image -->
         <action id="document-transform-image" type="javascript" label="actions.document.transform-image">
            <param name="function">onActionFormDialog</param>
            <!-- Additional parameters for onFormDialog function  -->
            <param name="itemKind">action</param>
            <param name="itemId">transform-image</param>
            <param name="mode">create</param>
            <param name="destination">{node.nodeRef}</param>
            <param name="successMessage">message.transform-image.success</param>
            <param name="failureMessage">message.transform-image.failure</param>
         </action>

         <!-- Execute Script -->
         <action id="document-execute-script" type="javascript" label="actions.document.execute-script">
            <param name="function">onActionFormDialog</param>
            <!-- Additional parameters for onFormDialog function  -->
            <param name="itemKind">action</param>
            <param name="itemId">script</param>
            <param name="mode">create</param>
            <param name="destination">{node.nodeRef}</param>
            <param name="successMessage">message.execute-script.success</param>
            <param name="failureMessage">message.execute-script.failure</param>
         </action>

         <!-- Locate with path view -->
         <action id="document-locate" type="javascript" label="actions.document.locate">
            <param name="function">onActionLocate</param>
            <evaluator>evaluator.doclib.action.locateAction</evaluator>
         </action>

         <!-- Upload new version -->
         <action id="document-upload-new-version" type="javascript" label="actions.document.upload-new-version">
            <param name="function">onActionUploadNewVersion</param>
            <permissions>
               <permission allow="true">Write</permission>
            </permissions>
            <evaluator>evaluator.doclib.action.upload</evaluator>
            <evaluator>evaluator.doclib.action.editableByCurrentUser</evaluator>
            <evaluator negate="true">evaluator.doclib.metadata.isLocked</evaluator>
         </action>

         <!-- Inline edit -->
         <action id="document-inline-edit" type="pagelink" label="actions.document.inline-edit">
            <param name="page">inline-edit?nodeRef={node.nodeRef}</param>
            <permissions>
               <permission allow="true">Write</permission>
            </permissions>
            <!-- aspect check (app:inlineeditable), mimetype check (text/plain, text/html, text/xml) -->
            <evaluator>evaluator.doclib.action.inlineEdit</evaluator>
            <evaluator>evaluator.doclib.action.editableByCurrentUser</evaluator>
            <evaluator negate="true">evaluator.doclib.action.isLocked</evaluator>
         </action>

         <!-- Edit online -->
         <action id="document-edit-online" type="javascript" label="actions.document.edit-online">
            <param name="function">onActionEditOnline</param>
            <permissions>
               <permission allow="true">Write</permission>
            </permissions>
            <!-- vti module check, mimetype check, userAgent check -->
            <evaluator>evaluator.doclib.action.onlineEdit</evaluator>
            <evaluator>evaluator.doclib.action.editableByCurrentUser</evaluator>
            <evaluator negate="true">evaluator.doclib.action.isLocked</evaluator>
            <evaluator negate="true">evaluator.doclib.action.isAosOnlineEditAvailable</evaluator>
         </action>

         <!-- Edit online AOS -->
         <action id="document-edit-online-aos" type="javascript" label="actions.document.edit-online" icon="document-edit-online">
            <param name="function">onActionEditOnlineAos</param>
            <permissions>
               <permission allow="true">Write</permission>
            </permissions>
            <evaluator>evaluator.doclib.action.isAosOnlineEditAvailable</evaluator>
            <evaluator>evaluator.doclib.action.notEditBrowser</evaluator>
            <evaluator negate="true">evaluator.doclib.action.isLockedForAos</evaluator>
            <evaluator>evaluator.doclib.action.isMimetypeEditableAos</evaluator>
         </action>

         <!-- Edit offline -->
         <action id="document-edit-offline" type="javascript" label="actions.document.edit-offline">
            <param name="function">onActionEditOffline</param>
            <permissions>
               <permission allow="true">Write</permission>
            </permissions>
            <evaluator>evaluator.doclib.action.offlineEdit</evaluator>
            <evaluator>evaluator.doclib.action.hasContent</evaluator>
            <evaluator negate="true">evaluator.doclib.action.notEditable</evaluator>
         </action>

         <!-- Copy to -->
         <action id="document-copy-to" type="javascript" label="actions.document.copy-to">
            <param name="function">onActionCopyTo</param>
            <evaluator>evaluator.doclib.action.editableByCurrentUser</evaluator>
         </action>

         <!-- Move to -->
         <action id="document-move-to" type="javascript" label="actions.document.move-to">
            <param name="function">onActionMoveTo</param>
            <permissions>
               <permission allow="true">Delete</permission>
            </permissions>
            <evaluator>evaluator.doclib.action.editableByCurrentUser</evaluator>
         </action>

         <!-- Delete -->
         <action id="document-delete" type="javascript" label="actions.document.delete">
            <param name="function">onActionDelete</param>
            <permissions>
               <permission allow="true">Delete</permission>
            </permissions>
            <evaluator>evaluator.doclib.action.editableByCurrentUser</evaluator>
            <evaluator>evaluator.doclib.action.isNotPartOfHybridWorklfow</evaluator>
            <evaluator>evaluator.doclib.action.isDeletable</evaluator>
         </action>

         <!-- Assign workflow -->
         <action id="document-assign-workflow" type="javascript" label="actions.document.assign-workflow">
            <param name="function">onActionAssignWorkflow</param>
         </action>

         <!-- Manage permissions (granular permissions) -->
         <action id="document-manage-granular-permissions" type="link" icon="document-manage-permissions" label="actions.document.manage-permissions">
             <param name="href">{managePermissionsUrl}</param>
            <permissions>
               <permission allow="true">ChangePermissions</permission>
            </permissions>
            <evaluator>evaluator.doclib.action.siteBased</evaluator>
            <evaluator negate="true">evaluator.doclib.action.isWorkingCopy</evaluator>
         </action>

         <!-- Manage permissions (repository roles) -->
         <action id="document-manage-repo-permissions" type="link" icon="document-manage-permissions" label="actions.document.manage-permissions">
            <param name="href">{managePermissionsUrl}</param>
            <permissions>
               <permission allow="true">ChangePermissions</permission>
            </permissions>
            <evaluator negate="true">evaluator.doclib.action.siteBased</evaluator>
            <evaluator negate="true">evaluator.doclib.action.isWorkingCopy</evaluator>
         </action>

         <!-- Manage aspects -->
         <action id="document-manage-aspects" type="javascript" label="actions.document.manage-aspects">
            <param name="function">onActionManageAspects</param>
            <permissions>
               <permission allow="true">Write</permission>
            </permissions>
            <evaluator negate="true">evaluator.doclib.action.isLocked</evaluator>
         </action>

         <!-- Change type -->
         <action id="document-change-type" type="javascript" label="actions.document.change-type">
            <param name="function">onActionChangeType</param>
            <permissions>
               <permission allow="true">Write</permission>
            </permissions>
            <evaluator negate="true">evaluator.doclib.action.isLocked</evaluator>
         </action>

         <!-- View original (of a Working Copy pair) -->
         <action id="document-view-original" type="pagelink" label="actions.document.view-original">
            <param name="page">document-details?nodeRef={workingCopy.sourceNodeRef}</param>
            <!-- cm:workingcopy aspect -->
            <evaluator>evaluator.doclib.action.isWorkingCopy</evaluator>
         </action>

         <!-- View working copy (of a Working Copy pair) -->
         <action id="document-view-working-copy" type="pagelink" label="actions.document.view-working-copy">
            <param name="page">document-details?nodeRef={workingCopy.workingCopyNodeRef}</param>
            <!-- cm:workingcopy aspect -->
            <evaluator>evaluator.doclib.action.hasWorkingCopy</evaluator>
         </action>

         <!-- Cancel editing -->
         <action id="document-cancel-editing" type="javascript" label="actions.document.cancel-editing">
            <param name="function">onActionCancelEditing</param>
            <permissions>
               <permission allow="true">CancelCheckOut</permission>
            </permissions>
            <evaluator>evaluator.doclib.action.cancelEditing</evaluator>
         </action>

         <!-- Cancel editing (unlock) -->
         <action id="document-cancel-editing-unlock" type="javascript" label="actions.document.cancel-editing-unlock">
            <param name="function">onActionUnlockDocument</param>
            <permissions>
               <permission allow="true">Unlock</permission>
            </permissions>
            <evaluator>evaluator.doclib.metadata.isWorkingCopyLocked</evaluator>
            <evaluator>evaluator.doclib.action.notHasWorkingCopy</evaluator>
            <evaluator>evaluator.doclib.action.cancelLockedBlacklist</evaluator>
         </action>

         <!-- Manage folder rules -->
         <action id="folder-manage-rules" type="pagelink" label="actions.folder.rules">
            <param name="page">folder-rules?nodeRef={node.nodeRef}</param>
            <permissions>
               <permission allow="true">ChangePermissions</permission>
            </permissions>
         </action>

         <!-- View on Google Maps -->
         <action id="document-view-googlemaps" type="pagelink" label="actions.document.view-google-map">
            <param name="page">geographic-map?nodeRef={node.nodeRef}</param>
            <!-- aspect cm:geographic -->
            <evaluator>evaluator.doclib.action.googleMaps</evaluator>
         </action>

         <!-- Transferred node: View in source repository -->
         <action id="document-view-in-source-repository" type="link" label="actions.document.view-source-repository">
            <!-- calculated from siteId, item.location.repositoryId, replicationUrlMapping from share-config-custom.xml and node.type -->
            <param name="href">{sourceRepositoryUrl}</param>
            <param name="target">_blank</param>
            <!-- aspect trx:transferred -->
            <evaluator>evaluator.doclib.action.transferred</evaluator>
         </action>

         <!-- Cloud Sync: Create -->
         <action id="document-cloud-sync" type="javascript" label="actions.document.cloud-sync">
            <param name="function">onActionCloudSync</param>
            <permissions>
               <permission allow="true">Write</permission>
            </permissions>
            <evaluator>evaluator.doclib.action.isSyncable</evaluator>
         </action>

         <!-- Cloud Sync: Delete -->
         <action id="document-cloud-unsync" type="javascript" label="actions.document.cloud-unsync">
            <param name="function">onActionCloudUnsync</param>
            <permissions>
               <permission allow="true">Delete</permission>
            </permissions>
            <evaluator>evaluator.doclib.action.isUnsyncable</evaluator>
            <override>document-cloud-sync</override>
         </action>

         <!-- Cloud Sync: View In Cloud -->
         <action id="document-view-in-cloud" type="link" label="actions.document.view-in-cloud">
            <param name="href">{cloudViewUrl}</param>
            <param name="target">_blank</param>
            <evaluator>evaluator.doclib.action.isSyncedFromLocal</evaluator>
         </action>
         
         <!-- Cloud Sync: Request Sync -->
         <action id="document-request-sync" type="javascript" label="actions.document.request-sync">
            <param name="function">onActionCloudSyncRequest</param>
            <evaluator>evaluator.doclib.action.isSyncedFromLocal</evaluator>
         </action>

         <!-- Download folder -->
         <action id="folder-download" type="javascript" label="actions.folder.download" icon="document-download">
            <param name="function">onActionFolderDownload</param>
         </action>

      </actions>


      <!--
         Action Group resolver - decides which action group id to use for a node
      -->
      <actionGroupResolver>resolver.doclib.actionGroup</actionGroupResolver>

      <!--
         Action Group definitions
      -->
      <actionGroups>
         <actionGroup id="empty"/>

         <actionGroup id="document-browse">
            <action index="100" id="document-download" />
            <action index="110" id="document-view-content" />
            <action index="120" id="document-locate" />
            <action index="130" id="document-edit-properties" />
            <action index="140" id="document-upload-new-version" />
<!--    
            <action index="150" id="document-view-original" />
            <action index="160" id="document-view-working-copy" />
     
            <action index="170" id="document-approve" />
            <action index="180" id="document-reject" />
            <action index="190" id="document-inline-edit" />
            <action index="200" id="document-edit-online" />
            <action index="201" id="document-edit-online-aos" />
            <action index="210" id="document-edit-offline" />
-->     
            <action index="250" id="document-copy-to" />
            <action index="260" id="document-move-to" />
            <action index="270" id="document-delete" />
<!--     
            <action index="280" id="document-assign-workflow" />
-->
            <action index="290" id="document-cancel-editing" />
            <action index="295" id="document-cancel-editing-unlock" icon="document-cancel-editing"/>
            <action index="297" id="document-manage-granular-permissions" />
    
            <action index="298" id="document-manage-repo-permissions" />
            <action index="310" id="document-view-googlemaps" />
<!--              
            <action index="320" id="document-view-in-source-repository" />
            <action index="330" id="document-cloud-sync" />
            <action index="340" id="document-cloud-unsync" />
            <action index="350" id="document-view-in-cloud" />
            <action index="360" id="document-request-sync"/> 
-->     
         </actionGroup>

         <actionGroup id="document-details">
            <action index="100" id="document-download" />
            <action index="110" id="document-view-content" />
            <action index="120" id="document-edit-metadata" />
            <action index="130" id="document-upload-new-version" />
            <action index="140" id="document-view-original" />
            <action index="150" id="document-view-working-copy" />
<!--              
            <action index="160" id="document-approve" />
            <action index="170" id="document-reject" />
-->     
            <action index="180" id="document-inline-edit" />
            <action index="190" id="document-edit-online" />
    
            <action index="191" id="document-edit-online-aos" />
            <action index="200" id="document-edit-offline" />
     
            <action index="240" id="document-copy-to" />
            <action index="250" id="document-move-to" />
            <action index="260" id="document-delete" />
<!--    
            <action index="270" id="document-assign-workflow" />
-->      
            <action index="280" id="document-cancel-editing" />
            <action index="285" id="document-cancel-editing-unlock" icon="document-cancel-editing"/>
            <action index="290" id="document-manage-granular-permissions" />
            <action index="300" id="document-manage-repo-permissions" />
            <action index="310" id="document-manage-aspects" />
<!--
            <action index="320" id="document-change-type" />
            <action index="330" id="document-view-in-source-repository" />
-->
            <action index="350" id="document-view-googlemaps" />
<!--      
            <action index="360" id="document-cloud-sync" />
            <action index="370" id="document-cloud-unsync" />
            <action index="380" id="document-view-in-cloud" />
            <action index="390" id="document-request-sync"/>
-->     
         </actionGroup>

         <actionGroup id="folder-browse">
            <action index="100" id="folder-download"/>
            <action index="105" id="folder-view-details" />
            <action index="110" id="document-edit-properties" icon="folder-edit-properties" label="actions.folder.edit-metadata" />
            <action index="120" id="document-approve" icon="folder-approve" />
            <action index="130" id="document-reject" icon="folder-reject" />
            <action index="140" id="document-locate" icon="document-locate" label="actions.folder.locate" />
            <action index="150" id="document-copy-to" icon="folder-copy-to" label="actions.folder.copy-to" />
            <action index="160" id="document-move-to" icon="folder-move-to" label="actions.folder.move-to" />
            <action index="170" id="folder-manage-rules" />
            <action index="180" id="document-delete" icon="folder-delete" label="actions.folder.delete" />
            <action index="190" id="document-manage-granular-permissions" icon="folder-manage-permissions" label="actions.folder.manage-permissions" />
            <action index="200" id="document-manage-repo-permissions" icon="folder-manage-permissions" label="actions.folder.manage-permissions" />
            <action index="210" id="document-manage-aspects" label="actions.folder.manage-aspects" />
            <action index="220" id="document-view-in-source-repository" label="actions.folder.view-source-repository" />
            <action index="310" id="document-view-googlemaps" />
<!--            
            <action index="360" id="document-cloud-sync" />
            <action index="370" id="document-cloud-unsync" />
            <action index="380" id="document-view-in-cloud" />
            <action index="390" id="document-request-sync"/>
-->    
         </actionGroup>

         <actionGroup id="folder-details">
            <action index="100" id="folder-download"/>
            <action index="105" id="document-edit-metadata" icon="folder-edit-metadata" label="actions.folder.edit-metadata" />
            <action index="110" id="document-approve" icon="folder-approve" />
            <action index="120" id="document-reject" icon="folder-reject" />
            <action index="130" id="document-copy-to" icon="folder-copy-to" label="actions.folder.copy-to" />
            <action index="140" id="document-move-to" icon="folder-move-to" label="actions.folder.move-to" />
            <action index="150" id="folder-manage-rules" />
            <action index="160" id="document-delete" icon="folder-delete" label="actions.folder.delete" />
            <action index="170" id="document-manage-granular-permissions" icon="folder-manage-permissions" label="actions.folder.manage-permissions" />
            <action index="180" id="document-manage-repo-permissions" icon="folder-manage-permissions" label="actions.folder.manage-permissions" />
            <action index="190" id="document-manage-aspects" label="actions.folder.manage-aspects" />
<!--            
            <action index="200" id="document-change-type" label="actions.folder.change-type" />
-->            
            <action index="220" id="document-view-in-source-repository" label="actions.folder.view-source-repository" />
            <action index="350" id="document-view-googlemaps" />
<!--             
            <action index="360" id="document-cloud-sync" />
            <action index="370" id="document-cloud-unsync" />
            <action index="380" id="document-view-in-cloud" />
            <action index="390" id="document-request-sync"/>
-->         
         </actionGroup>

         <actionGroup id="document-link-browse">
            <action index="100" id="document-locate" label="actions.link.locate">
               <evaluator />
            </action>
            <action index="110" id="document-delete" label="actions.link.delete" />
         </actionGroup>

         <actionGroup id="document-link-details">
            <action index="100" id="document-delete" label="actions.link.delete" />
         </actionGroup>
 
         <actionGroup id="folder-link-browse">
            <action index="100" id="folder-view-details" />
            <action index="110" id="document-locate" label="actions.link.locate">
               <evaluator />
            </action>
            <action index="120" id="document-delete" icon="folder-delete" label="actions.link.delete" />
         </actionGroup>

         <actionGroup id="folder-link-details">
            <action index="100" id="document-delete" icon="folder-delete" label="actions.link.delete" />
         </actionGroup>

      </actionGroups>

   </config>

    
</alfresco-config>
