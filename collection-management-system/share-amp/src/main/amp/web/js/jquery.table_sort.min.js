!function(t){"object"==typeof module&&"object"==typeof module.exports?module.exports=t(require("jquery"),window,document):t(jQuery,window,document)}(function(t,e,n,i){var r=function(){function t(t){this.index=null,this.order=1,this.indexes=t}return t.prototype={getOrder:function(t){return this.index===t?this.order:1},updateOrder:function(t){this.index===t?this.order*=-1:(this.index=t,this.order=-1)},getIndex:function(){return this.index},indexCheck:function(t){return-1!==this.indexes.indexOf(t)?!0:!1}},t}();t.fn.tableSort=function(e){var n={indexes:t(this).find("thead").find("th").map(function(){return t(this).index()}).get(),compare:function(){},after:function(){}},i=t.extend(n,e),d=new r(i.indexes),o=t(this),s=function(e,n,r,d){var o=t(e).find("td").eq(d).text(),s=t(n).find("td").eq(d).text();switch(r){case"integer":return o*=1,s*=1,o-s;case"date":var c=new Date(o).getTime(),u=new Date(s).getTime();return u>c?-1:c>u?1:0;case"custom":return i.compare(o,s);default:return s>o?-1:o>s?1:0}},c=function(e){t(e).removeClass("sort_column_default sort_column_asc sort_column_desc")},u=function(e){var n=t(e),i=n.index();d.getIndex()===i?-1===d.getOrder(i)?n.addClass("sort_column_asc"):n.addClass("sort_column_desc"):n.addClass("sort_column_default")},f=function(e){t(e).find("thead").find("th").each(function(){d.indexCheck(t(this).index())&&(c(this),u(this))})},a=function(){var e=t(this).data("type"),n=t(this).index(),r=o.find("tbody>tr");r.sort(function(t,i){return s(t,i,e,n)*d.getOrder(n)}),o.find("tbody").empty().append(r),d.updateOrder(n),f(o),i.after(this)};return o.find("thead").find("th").each(function(){d.indexCheck(t(this).index())&&t(this).on("click",a)}),f(o),this},t.fn.tableMove=function(e){var n={after:function(){}},i=t.extend(n,e),r=function(){var e=t(this).closest("tr");e.prev("tr").length&&(e.insertBefore(e.prev("tr")),i.after(e))},d=function(){var e=t(this).closest("tr");e.next("tr").length&&(e.insertAfter(e.next("tr")),i.after(e))};return t(this).find("tbody>tr").find(".up").on("click",r),t(this).find("tbody>tr").find(".down").on("click",d),this}});